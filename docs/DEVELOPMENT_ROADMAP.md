# Local AI Assistant - å¼€å‘è·¯çº¿å›¾

## é¡¹ç›®æ„¿æ™¯

æ„å»ºä¸€ä¸ªè·¨å¹³å°æœ¬åœ° AI åŠ©æ‰‹ï¼Œæ”¯æŒæ–‡æœ¬å¯¹è¯ã€å›¾åƒç”Ÿæˆã€å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘ã€‚

---

## Phase 1: Chat Model (MVP)

**ç›®æ ‡ï¼š** åŸºç¡€æ–‡æœ¬å¯¹è¯åŠŸèƒ½

**æ—¶é—´ï¼š** åŸºç¡€æ¡†æ¶å·²å®Œæˆ (rusty_bot)

### 1.1 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| LLM æ¨ç† | âœ… å®Œæˆ | Kalosm + Qwen 2.5 7B |
| æµå¼å“åº” | âœ… å®Œæˆ | Token-by-token è¾“å‡º |
| RAG çŸ¥è¯†åº“ | âœ… å®Œæˆ | SurrealDB å‘é‡æ£€ç´¢ |
| Markdown æ¸²æŸ“ | âœ… å®Œæˆ | ä»£ç é«˜äº®æ”¯æŒ |
| Web UI | âœ… å®Œæˆ | Dioxus 0.7 + TailwindCSS |

### 1.2 å¾…å®Œå–„

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|--------|------|
| ä¼šè¯æŒä¹…åŒ– | P1 | SQLite ä¿å­˜å¯¹è¯å†å² |
| å¤šä¼šè¯ç®¡ç† | P1 | ä¾§è¾¹æ ä¼šè¯åˆ—è¡¨ |
| æ¨¡å‹é€‰æ‹© | P2 | æ”¯æŒåˆ‡æ¢ä¸åŒæ¨¡å‹ |
| é…ç½®å¤–éƒ¨åŒ– | P2 | TOML é…ç½®æ–‡ä»¶ |
| Desktop æ„å»º | P2 | Dioxus Desktop æ”¯æŒ |

### 1.3 æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Dioxus 0.7 (Web/Desktop)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Kalosm                 â”‚
â”‚    (LLM + Embedding + RAG)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Candle (ML Runtime)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   SurrealDB (Vector) + SQLite       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase 2: Local Image Model (Z-Image)

**ç›®æ ‡ï¼š** æœ¬åœ°å›¾åƒç”Ÿæˆèƒ½åŠ›ï¼Œé›†æˆ Z-Image 6B æ¨¡å‹

### 2.1 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æŠ€æœ¯æ–¹æ¡ˆ | è¯´æ˜ |
|------|----------|------|
| æ–‡ç”Ÿå›¾ | **Z-Image-Turbo-GGUF** | 6B å‚æ•°ï¼Œé«˜è´¨é‡ï¼Œä¸­è‹±åŒè¯­ |
| å›¾ç”Ÿå›¾ | Z-Image-Edit | å›¾åƒç¼–è¾‘å˜æ¢ |
| å›¾åƒç†è§£ | LLaVA / Qwen-VL | å¤šæ¨¡æ€è§†è§‰é—®ç­” |
| å¤‡é€‰æ–¹æ¡ˆ | Wuerstchen (Kalosm) | çº¯ Rust æ–¹æ¡ˆ |

### 2.2 Z-Image é›†æˆæ–¹æ¡ˆ

**æ¨èè·¯å¾„ï¼šZ-Image-Turbo-GGUF + stable-diffusion.cpp**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Dioxus UI (Rust)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Image Generation Service              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚  Rust FFI / subprocess wrapper        â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         stable-diffusion.cpp (C++)              â”‚
â”‚              Z-Image-Turbo-GGUF                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Z-Image GGUF æ¨¡å‹

| é‡åŒ–ç­‰çº§ | æ–‡ä»¶å¤§å° | VRAM éœ€æ±‚ | è´¨é‡ |
|----------|----------|-----------|------|
| Q2 | ~3.8 GB | 4 GB | å¯ç”¨ |
| Q3_K_S | ~4.5 GB | 6 GB | è¾ƒå¥½ |
| Q4_K_M | ~5.0 GB | 8 GB | æ¨è |
| Q8_0 | ~6.0 GB | 12 GB | æœ€ä½³ |

**æ¨¡å‹æ¥æºï¼š**
- [jayn7/Z-Image-Turbo-GGUF](https://huggingface.co/jayn7/Z-Image-Turbo-GGUF)
- [vantagewithai/Z-Image-Turbo-GGUF](https://huggingface.co/vantagewithai/Z-Image-Turbo-GGUF)

### 2.4 Rust é›†æˆä»£ç 

```rust
// src/core/image.rs
use std::process::Command;

pub struct ZImageEngine {
    model_path: String,
    sd_cpp_path: String,
}

impl ZImageEngine {
    /// ä½¿ç”¨ stable-diffusion.cpp CLI ç”Ÿæˆå›¾åƒ
    pub async fn generate(&self, prompt: &str, output_path: &str) -> Result<()> {
        let output = Command::new(&self.sd_cpp_path)
            .args([
                "-m", &self.model_path,
                "-p", prompt,
                "-o", output_path,
                "--steps", "8",  // Z-Image-Turbo åªéœ€ 8 æ­¥
                "--cfg-scale", "3.5",
            ])
            .output()?;

        if !output.status.success() {
            return Err(anyhow!("Generation failed"));
        }
        Ok(())
    }
}
```

### 2.5 UI æ‰©å±•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Chat] [Image] [Settings]                  â”‚  â† Tab å¯¼èˆª
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚         Generated Image             â”‚    â”‚
â”‚  â”‚        (Z-Image-Turbo)              â”‚    â”‚
â”‚  â”‚                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                             â”‚
â”‚  Prompt: [________________________] [ç”Ÿæˆ]   â”‚
â”‚                                             â”‚
â”‚  Model: [Z-Image-Turbo Q4 â–¼]               â”‚
â”‚  Steps: [8]   CFG: [3.5]   Seed: [random]  â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.6 æŠ€æœ¯æ ˆæ¼”è¿›

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Dioxus 0.7 (Web/Desktop)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Application Layer              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Kalosm    â”‚  Z-Image Integration    â”‚  â”‚
â”‚  â”‚  (LLM/RAG) â”‚  (stable-diffusion.cpp) â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Candle (Rust)  â”‚  sd.cpp (C++ via FFI)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   SurrealDB â”‚ SQLite â”‚ Image Cache (FS)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.7 æ”¯æŒçš„æ¨¡å‹

| æ¨¡å‹ | ç±»å‹ | å¤§å° | VRAM | è¯´æ˜ |
|------|------|------|------|------|
| **Z-Image-Turbo-GGUF** | æ–‡ç”Ÿå›¾ | 3.8-6GB | 4-12GB | ğŸŒŸ æ¨èï¼Œä¸­è‹±åŒè¯­ï¼Œ8æ­¥å¿«é€Ÿ |
| Z-Image-Edit | å›¾ç”Ÿå›¾ | ~6GB | 8GB | å›¾åƒç¼–è¾‘ |
| Wuerstchen | æ–‡ç”Ÿå›¾ | ~5GB | 8GB | Kalosm åŸç”Ÿï¼Œçº¯ Rust |
| LLaVA | å›¾åƒç†è§£ | ~7GB | 8GB | è§†è§‰é—®ç­” |
| Qwen-VL | å¤šæ¨¡æ€ | ~10GB | 12GB | ä¸­æ–‡æ”¯æŒå¥½ |

### 2.8 Z-Image ä¼˜åŠ¿

- **é«˜æ•ˆ**ï¼š6B å‚æ•°ï¼Œ8 NFE å³å¯ç”Ÿæˆé«˜è´¨é‡å›¾åƒ
- **åŒè¯­**ï¼šè‹±æ–‡å’Œä¸­æ–‡æ–‡æœ¬æ¸²æŸ“æ”¯æŒ
- **è½»é‡**ï¼šGGUF é‡åŒ–ç‰ˆå¯åœ¨ 4GB VRAM è®¾å¤‡è¿è¡Œ
- **å¼€æº**ï¼šApache-2.0 è®¸å¯è¯

---

## Phase 3: Flow Editor

**ç›®æ ‡ï¼š** å¯è§†åŒ– AI å·¥ä½œæµç¼–è¾‘å™¨

### 3.1 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| èŠ‚ç‚¹ç¼–è¾‘å™¨ | æ‹–æ‹½å¼å·¥ä½œæµè®¾è®¡ |
| é¢„ç½®èŠ‚ç‚¹ | LLMã€å›¾åƒã€RAGã€æ¡ä»¶ã€å¾ªç¯ |
| å·¥ä½œæµä¿å­˜ | JSON/YAML æ ¼å¼ |
| å·¥ä½œæµè¿è¡Œ | å®æ—¶æ‰§è¡Œå’Œè°ƒè¯• |
| æ¨¡æ¿å¸‚åœº | ç¤¾åŒºå…±äº«å·¥ä½œæµ |

### 3.2 èŠ‚ç‚¹ç±»å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    èŠ‚ç‚¹ç±»å‹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Input èŠ‚ç‚¹     â”‚ Text Input, Image Input, File Input  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LLM èŠ‚ç‚¹       â”‚ Chat, Completion, Embedding          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image èŠ‚ç‚¹     â”‚ Generate, Edit, Describe             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ RAG èŠ‚ç‚¹       â”‚ Index, Search, Augment               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Logic èŠ‚ç‚¹     â”‚ Condition, Loop, Switch, Merge       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Output èŠ‚ç‚¹    â”‚ Display, Save, API Response          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 UI è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File  Edit  Run  Help                          [â–¶ Run]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                                    â”‚           â”‚
â”‚  Nodes     â”‚       Canvas (Flow Editor)         â”‚ Inspector â”‚
â”‚            â”‚                                    â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”  â”‚  Node:    â”‚
â”‚  â”‚ LLM  â”‚  â”‚    â”‚Inputâ”‚â”€â”€â”€â–¶â”‚ LLM â”‚â”€â”€â”€â–¶â”‚Outputâ”‚ â”‚  - Type   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â”‚    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜  â”‚  - Config â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚                                    â”‚  - Params â”‚
â”‚  â”‚Image â”‚  â”‚                                    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â”‚                                    â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚                                    â”‚           â”‚
â”‚  â”‚ RAG  â”‚  â”‚                                    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â”‚                                    â”‚           â”‚
â”‚            â”‚                                    â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Console: [Workflow executed successfully]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 æŠ€æœ¯æ–¹æ¡ˆ

**é€‰é¡¹ A: é›†æˆ Floneum Editor**
- ç›´æ¥ä½¿ç”¨ Floneum çš„å¯è§†åŒ–ç¼–è¾‘å™¨
- ä¼˜ç‚¹ï¼šåŠŸèƒ½æˆç†Ÿï¼Œå‡å°‘å¼€å‘é‡
- ç¼ºç‚¹ï¼šå¯èƒ½æœ‰æ ·å¼/é›†æˆé—®é¢˜

**é€‰é¡¹ B: è‡ªå»ºèŠ‚ç‚¹ç¼–è¾‘å™¨**
- åŸºäº Dioxus æ„å»º
- ä½¿ç”¨ Canvas/SVG æ¸²æŸ“èŠ‚ç‚¹è¿çº¿
- ä¼˜ç‚¹ï¼šå®Œå…¨å¯æ§ï¼Œç»Ÿä¸€æŠ€æœ¯æ ˆ
- ç¼ºç‚¹ï¼šå¼€å‘é‡å¤§

**æ¨èï¼š** å…ˆè¯„ä¼° Floneum Editor é›†æˆå¯è¡Œæ€§ï¼Œä¸è¡Œå†è‡ªå»º

### 3.5 å·¥ä½œæµæ ¼å¼

```yaml
# workflow.yaml
name: "RAG Chat Flow"
version: 1
nodes:
  - id: input
    type: text_input
    config:
      placeholder: "Ask a question..."

  - id: rag
    type: rag_search
    config:
      top_k: 5
    inputs:
      query: input.output

  - id: llm
    type: chat
    config:
      model: "qwen2.5-7b"
      temperature: 0.7
    inputs:
      context: rag.output
      prompt: input.output

  - id: output
    type: display
    inputs:
      content: llm.output

edges:
  - from: input â†’ rag â†’ llm â†’ output
```

### 3.6 æœ€ç»ˆæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Dioxus 0.7 Application                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Chat UI   â”‚  Image UI   â”‚    Flow Editor UI       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Workflow Engine                     â”‚
â”‚         (Parse, Execute, Debug workflows)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Kalosm                           â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚    â”‚ Language â”‚  Vision  â”‚   Audio  â”‚  (Future)     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Candle / Fusor (WGPU)  â† Future WebGPU support   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   SurrealDB â”‚ SQLite â”‚ FileSystem â”‚ Image Cache     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é‡Œç¨‹ç¢‘æ€»ç»“

| Phase | ç›®æ ‡ | å…³é”®äº¤ä»˜ç‰© |
|-------|------|-----------|
| **Phase 1** | Chat Model | å¯è¿è¡Œçš„å¯¹è¯åŠ©æ‰‹ + ä¼šè¯ç®¡ç† |
| **Phase 2** | Image Model | æ–‡ç”Ÿå›¾ + å›¾åƒç†è§£ |
| **Phase 3** | Flow Editor | å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨ |

---

## æŠ€æœ¯å€ºåŠ¡è·Ÿè¸ª

| é¡¹ç›® | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|--------|------|
| Kalosm git ä¾èµ– | P2 | ç­‰å¾… crates.io ç¨³å®šç‰ˆ |
| é”™è¯¯å¤„ç† | P1 | ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º |
| å•å…ƒæµ‹è¯• | P2 | æ ¸å¿ƒæ¨¡å—æµ‹è¯•è¦†ç›– |
| CI/CD | P3 | è‡ªåŠ¨æ„å»ºå‘å¸ƒ |
| æ–‡æ¡£ | P3 | ç”¨æˆ·æŒ‡å—å’Œ API æ–‡æ¡£ |

---

*è·¯çº¿å›¾ç‰ˆæœ¬: 1.0*
*åˆ›å»ºæ—¶é—´: 2025-12-07*
*åŸºäº: rusty_bot + Floneum ç”Ÿæ€*
